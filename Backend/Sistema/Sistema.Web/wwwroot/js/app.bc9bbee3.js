(function(t){function e(e){for(var s,i,n=e[0],l=e[1],c=e[2],p=0,u=[];p<n.length;p++)i=n[p],o[i]&&u.push(o[i][0]),o[i]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(u.length)u.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,n=1;n<a.length;n++){var l=a[n];0!==o[l]&&(s=!1)}s&&(r.splice(e--,1),t=i(i.s=a[0]))}return t}var s={},o={app:0},r=[];function i(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var d=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"4e7f":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("744f"),a("6c7b"),a("7514"),a("20d6"),a("1c4c"),a("6762"),a("cadf"),a("e804"),a("55dd"),a("d04f"),a("c8ce"),a("217b"),a("7f7f"),a("f400"),a("7f25"),a("536b"),a("d9ab"),a("f9ab"),a("32d7"),a("25c9"),a("9f3c"),a("042e"),a("c7c6"),a("f4ff"),a("049f"),a("7872"),a("a69f"),a("0b21"),a("6c1a"),a("c7c62"),a("84b4"),a("c5f6"),a("2e37"),a("fca0"),a("7cdf"),a("ee1d"),a("b1b1"),a("87f3"),a("9278"),a("5df2"),a("04ff"),a("f751"),a("4504"),a("fee7"),a("ffc1"),a("0d6d"),a("9986"),a("8e6e"),a("25db"),a("e4f7"),a("b9a1"),a("64d5"),a("9aea"),a("db97"),a("66c8"),a("57f0"),a("165b"),a("456d"),a("cf6a"),a("fd24"),a("8615"),a("551c"),a("097d"),a("df1b"),a("2397"),a("88ca"),a("ba16"),a("d185"),a("ebde"),a("2d34"),a("f6b3"),a("2251"),a("c698"),a("a19f"),a("9253"),a("9275"),a("3b2b"),a("3846"),a("4917"),a("a481"),a("28a5"),a("386d"),a("6b54"),a("4f7f"),a("8a81"),a("ac4d"),a("8449"),a("9c86"),a("fa83"),a("48c0"),a("a032"),a("aef6"),a("d263"),a("6c37"),a("9ec8"),a("5695"),a("2fdb"),a("d0b0"),a("b54a"),a("f576"),a("ed50"),a("788d"),a("14b9"),a("f386"),a("f559"),a("1448"),a("673e"),a("242a"),a("c66f"),a("b05c"),a("34ef"),a("6aa2"),a("15ac"),a("af56"),a("b6e4"),a("9c29"),a("63d9"),a("4dda"),a("10ad"),a("c02b"),a("4795"),a("130f"),a("ac6a"),a("96cf"),a("d1e7");var s=a("2b0e"),o=a("d437"),r=a.n(o),i=a("d421"),n=a.n(i),l=a("535c"),c=a.n(l),d=a("d0ba"),p=a.n(d),u=a("e1f0"),h=a.n(u),v=a("5d92"),f=a.n(v),_=a("6a6f"),m=a.n(_),b=a("d553"),x=a.n(b),g=a("12d0"),k=a.n(g),A=a("10a1"),M=a.n(A),C=a("0fad"),P=a.n(C),O=a("c713"),K=a.n(O),S=a("68d6"),E=a.n(S),w=a("cf3f"),T=a.n(w),D=a("db3b"),y=a.n(D),N=a("46db"),R=a.n(N),I=a("3ace"),$=a.n(I),L=a("2330"),j=a.n(L);a("da64");s["default"].use(r.a,{components:{VApp:n.a,VNavigationDrawer:c.a,VFooter:p.a,VList:h.a,VBtn:f.a,VIcon:m.a,VGrid:x.a,VToolbar:k.a,VCheckbox:M.a,VAutocomplete:P.a,VCard:K.a,VDivider:E.a,VDialog:T.a,VTextField:y.a,VDataTable:R.a,VSelect:$.a,transitions:j.a},theme:{primary:"#FF1C2B",secondary:"#BF1520",accent:"#E61927",error:"#000000",info:"#BF1520",success:"#800E16",warning:"#FFC107"}});var U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"app"}},[t.logueado?a("v-navigation-drawer",{attrs:{fixed:"",clipped:t.$vuetify.breakpoint.mdAndUp,app:"",temporary:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",{attrs:{dense:""}},[t.esAdministracion?[a("v-list-tile",{attrs:{to:{name:"home"}}},[a("v-list-tile-action",[a("v-icon",[t._v("home")])],1),a("v-list-tile-title",[t._v(" Inicio ")])],1)]:t._e(),t.esAdministracion?[a("v-list-group",[a("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-tile-content",[a("v-list-tile-title",[t._v(" Almacén ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"salidas"}}},[a("v-list-tile-action",[a("v-icon",[t._v("store")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v(" Salidas ")])],1)],1)],1)]:t._e()],2)],1):t._e(),a("v-toolbar",{attrs:{color:"red darken-1",dark:"",app:"","clipped-left":t.$vuetify.breakpoint.mdAndUp,fixed:""}},[a("v-toolbar-title",{staticClass:"ml-0 pl-3",staticStyle:{width:"300px"}},[t.logueado?a("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}):t._e(),t.logueado?a("span",{staticClass:"hidden-sm-and-down"},[t._v("Almacén")]):t._e()],1),a("v-spacer"),t.logueado?a("span",[a("strong",[t._v("Usuario: "+t._s(this.$store.state.usuario.usuario))])]):t._e(),t.logueado?a("v-btn",{attrs:{icon:""},on:{click:t.salir}},[a("v-icon",[t._v("logout")])],1):t._e()],1),a("v-content",[a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-slide-y-transition",{attrs:{mode:"out-in"}},[a("router-view")],1)],1)],1),a("v-footer",{attrs:{dark:"",height:"auto"}},[a("v-layout",{attrs:{"justify-center":""}},[a("v-flex",{attrs:{"text-xs-center":""}},[a("v-card",{staticClass:"white--text",attrs:{flat:"",tile:"",color:"primary"}},[a("v-card-text",{staticClass:"white--text pt-0"},[a("strong",[t._v("Versión 1.0.14 - "+t._s((new Date).getFullYear()))])])],1)],1)],1)],1)],1)},V=[];history.pushState(null,null,location.href),window.onpopstate=function(){history.go(1)};var B={name:"App",data:function(){return{clipped:!1,drawer:!0,fixed:!1,items:[{icon:"bubble_chart",title:"Inspire"}],miniVariant:!1,right:!0,rightDrawer:!1,title:"Vuetify.js"}},computed:{logueado:function(){return this.$store.state.usuario},esAdministracion:function(){return this.$store.state.usuario&&"administrador"==this.$store.state.usuario.rol}},created:function(){this.$store.dispatch("autoLogin")},methods:{salir:function(){this.$store.dispatch("salir")}}},z=B,F=a("2877"),G=Object(F["a"])(z,U,V,!1,null,null,null);G.options.__file="App.vue";var H=G.exports,J=a("8c4f"),Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-slide-y-transition",{attrs:{mode:"out-in"}},[a("v-layout",{attrs:{column:"","align-center":""}})],1)],1)},q=[],Q=(a("9bd9"),{}),W=Object(F["a"])(Q,Y,q,!1,null,"466b834a",null);W.options.__file="Home.vue";var X=W.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md6:"",lg5:"",xl4:""}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"red darken-1"}},[a("v-toolbar-title",[t._v("Inicio de sesión")])],1),a("v-card-text",[a("v-select",{attrs:{items:t.items,label:"Almacén"},on:{change:function(e){t.seleccionarU()}},model:{value:t.pk_entidad,callback:function(e){t.pk_entidad=e},expression:"pk_entidad"}}),a("v-autocomplete",{attrs:{items:t.usuarios,label:"Usuario","no-data-text":"No hay datos disponibles"},model:{value:t.login,callback:function(e){t.login=e},expression:"login"}}),t.error?a("v-flex",{staticClass:"red--text font-weight-bold"},[a("strong",[t._v(t._s(t.error))])]):t._e()],1),a("v-card-actions",{staticClass:"px-3 pb-3"},[a("v-flex",{attrs:{"text-xs-right":""}},[a("v-btn",{attrs:{color:"primary"},on:{click:t.ingresar}},[t._v("Ingresar")])],1)],1)],1)],1)],1)},tt=[],et=a("bc3a"),at=a.n(et),st={data:function(){return{items:["510","511","520","521","530","531","509","631"],usuarios:[],login:"",pk_entidad:"",error:null}},methods:{uppercase:function(){this.login=this.login.toUpperCase()},ingresar:function(){var t=this;this.error=null,at.a.post("api/Salidas/Inicio",{login:this.login,pk_entidad:this.pk_entidad}).then(function(t){return t.data}).then(function(e){t.$store.dispatch("guardarToken",e.token),t.$router.push({name:"home"})}).catch(function(e){400==e.response.status?t.error="No es un usuario válido.":404==e.response.status?t.error="No existe el usuario o sus datos son incorrectos.":500==e.response.status?t.error="Servidor no disponible.":t.error="Ocurrio un error."})},seleccionarU:function(){var t=this;t.usuarios=[];var e=[];at.a.get("api/Salidas/CargarUsuario/"+this.pk_entidad).then(function(a){e=a.data,e.map(function(e){t.usuarios.push({text:e.login,value:e.pk_usuario})})}).catch(function(e){401==e.response.status?t.$store.dispatch("salir"):console.log(e)})}}},ot=st,rt=(a("b7dc"),Object(F["a"])(ot,Z,tt,!1,null,"095cdfb0",null));rt.options.__file="Inicio.vue";var it=rt.exports,nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Salidas "+t._s(this.$store.state.usuario.entidad))]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("span",[a("strong",[t._v("Semana: "+t._s(t.semana.pK_SEMANA)+" ")])]),0==t.verNuevo?a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:t.mostrarNuevo}},[t._v("Nuevo")]):t._e(),a("v-dialog",{attrs:{persistent:"","max-width":"500"},model:{value:t.wait,callback:function(e){t.wait=e},expression:"wait"}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[t._v("\n            Espere por favor......\n          ")])],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"1000px"},model:{value:t.verOrdenes,callback:function(e){t.verOrdenes=e},expression:"verOrdenes"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Seleccione las ordenes de pedidos.")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.cabeceraOrdenes,items:t.ordenes,"select-all":"","item-key":"pK_ORDEN_PED","rows-per-page-text":t.paginas},scopedSlots:t._u([{key:"default",fn:function(e){return[a("tr",[a("th",[a("v-checkbox",{attrs:{"input-value":e.all,indeterminate:e.indeterminate,primary:"","hide-details":""},on:{click:function(e){return e.stopPropagation(),t.toggleAll(e)}}})],1)])]}},{key:"items",fn:function(e){return[a("tr",{attrs:{active:e.selected},on:{click:function(t){e.selected=!e.selected}}},[a("td",[a("v-checkbox",{attrs:{"input-value":e.selected,primary:"","hide-details":""}})],1),a("td",[t._v(t._s(e.item.nrO_ORDEN))]),a("td",[t._v(t._s(e.item.pK_ORDEN_PED))]),a("td",[t._v(t._s(e.item.pK_SEMANA))]),a("td",[t._v(t._s(e.item.obs))])])]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[a("template",{slot:"no-data"},[a("h3",[t._v("No hay artículos para mostrar.")])])],2)]],2)],1)],1)],1),a("v-card-actions",[t._l(t.marcaMensaje,function(e){return a("div",{key:e,staticClass:"red--text font-weight-bold",domProps:{textContent:t._s(e)}})}),a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.guardarOrdenes()}}},[t._v("Aceptar")]),a("v-btn",{attrs:{color:"error"},on:{click:function(e){t.ocultarOrdenes()}}},[t._v("Cancelar")])],2)],1)],1)],1),0==t.verNuevo?a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.salidas,"rows-per-page-text":t.pagina},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.nrO_DOC))]),a("td",[t._v(t._s(e.item.tipO_SALIDA))]),a("td",[t._v(t._s(e.item.pK_ENTIDAD))]),a("td",[t._v(t._s(e.item.pK_SEMANA))]),a("td",[t._v(t._s(e.item.fechA_DOC))]),a("td",[t._v(t._s(e.item.nombre))]),a("td",[t._v(t._s(e.item.totaL_PREPACKS))]),a("td",[t._v(t._s(e.item.totaL_PARES))]),a("td",[t._v(t._s(e.item.estado))]),a("td",[t._v(t._s(e.item.login))])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2):t._e(),t.verNuevo?a("v-container",{staticClass:"pa-4 white",attrs:{"grid-list-sm":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md8:"",lg3:"",xl3:""}},[a("v-text-field",{attrs:{label:"Tipo de Despacho",readonly:""},model:{value:t.tipo,callback:function(e){t.tipo=e},expression:"tipo"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg2:"",xl2:""}},[a("v-select",{attrs:{items:t.ciudades,label:"Ciudad","no-data-text":"No hay datos disponibles"},on:{change:function(e){t.seleccionarS()}},model:{value:t.ciudad,callback:function(e){t.ciudad=e},expression:"ciudad"}})],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:"",lg1:"",xl1:""}},[a("v-select",{attrs:{items:t.tiendas,label:"Código","no-data-text":"No hay datos disponibles"},on:{change:function(e){t.encuentraTienda(t.pk_tienda)}},model:{value:t.pk_tienda,callback:function(e){t.pk_tienda=e},expression:"pk_tienda"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{label:"Tienda",readonly:""},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),a("v-flex",{attrs:{xs2:"",sm2:"",md2:"",lg2:"",xl2:""}},[""==t.pk_tienda?a("div",[a("v-btn",{attrs:{small:"",fab:"",dark:"",color:"primary"}},[a("v-icon",{attrs:{dark:""}},[t._v("list_alt")])],1)],1):a("div",[a("v-btn",{attrs:{small:"",fab:"",dark:"",color:"primary"},on:{click:function(e){t.mostrarOrdenes()}}},[a("v-icon",{attrs:{dark:""}},[t._v("list_alt")])],1)],1)]),a("v-flex",{attrs:{xs6:"",sm6:"",md6:"",lg2:"",xl2:""}},[a("v-text-field",{attrs:{label:"Concepto",readonly:""},model:{value:t.concepto,callback:function(e){t.concepto=e},expression:"concepto"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:"",lg2:"",xl2:""}},[a("v-text-field",{attrs:{label:"Fecha",readonly:""},model:{value:t.fecha,callback:function(e){t.fecha=e},expression:"fecha"}})],1),a("v-flex",{attrs:{xs12:"",sm8:"",md8:"",lg6:"",xl6:""}},[a("v-text-field",{attrs:{maxlength:"100",label:"Observaciones"},model:{value:t.observaciones,callback:function(e){t.observaciones=e},expression:"observaciones"}})],1),a("v-flex",{attrs:{xs10:"",sm8:"",md8:"",lg8:"",xl8:""}},[a("v-text-field",{attrs:{maxlength:"13",label:"Código de Barras",onkeypress:"return (event.charCode >= 48 && event.charCode <= 57)"},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.buscarCodigo()}},model:{value:t.codigo,callback:function(e){t.codigo=e},expression:"codigo"}})],1),a("v-flex",{attrs:{xs2:"",sm2:"",md2:"",lg2:"",xl2:""}},[a("div",[a("v-btn",{attrs:{small:"",fab:"",dark:"",color:"primary"},on:{click:function(e){t.buscarCodigo()}}},[a("v-icon",{attrs:{dark:""}},[t._v("login")])],1)],1)]),t.errorArticulo?a("v-flex",{attrs:{xs12:"",sm2:"",md2:"",lg2:"",xl2:""}},[a("div",{staticClass:"red--text font-weight-bold",staticStyle:{"font-size":"20px"},domProps:{textContent:t._s(t.errorArticulo)}})]):t._e(),a("v-flex",{attrs:{xs12:"",sm12:"",md10:"",lg10:"",xl10:""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.cabeceraDetalles,items:t.detalles,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){t.eliminarDetalle(t.detalles,e.item)}}},[t._v("\n                  delete\n                ")])],1),a("td",[t._v(t._s(e.item.pK_ARTICULO))]),a("td",[t._v(t._s(e.item.pK_PPREPACK))]),a("td",[t._v(t._s(e.item.cpares))]),a("td",[t._v(t._s(e.item.cprepacks))]),a("td",[t._v(t._s(e.item.pventa))]),a("td",[t._v(t._s(e.item.taM1))]),a("td",[t._v(t._s(e.item.taM2))]),a("td",[t._v(t._s(e.item.taM3))]),a("td",[t._v(t._s(e.item.taM4))]),a("td",[t._v(t._s(e.item.taM5))]),a("td",[t._v(t._s(e.item.taM6))]),a("td",[t._v(t._s(e.item.taM7))]),a("td",[t._v(t._s(e.item.taM8))]),a("td",[t._v(t._s(e.item.taM9))])]}}])},[a("template",{slot:"no-data"},[a("h3",[t._v("No hay artículos agregados al detalle.")])])],2),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total Cajas: ")]),t._v("\n            "+t._s(t.totalprepacks=t.calcularTotalPrePacks)+"\n          ")]),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total Pares: ")]),t._v("\n            "+t._s(t.totalpares=t.calcularTotalPares)+"\n          ")])],1),a("v-flex",{attrs:{xs6:"",sm6:"",md5:"",lg5:"",xl5:""}},[a("v-autocomplete",{attrs:{items:t.despachadores,label:"Despachador","no-data-text":"No hay datos disponibles"},model:{value:t.pk_despachador,callback:function(e){t.pk_despachador=e},expression:"pk_despachador"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md5:"",lg5:"",xl5:""}},[a("v-autocomplete",{attrs:{items:t.revisores,label:"Revisor","no-data-text":"No hay datos disponibles"},model:{value:t.pk_revisor,callback:function(e){t.pk_revisor=e},expression:"pk_revisor"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md5:"",lg5:"",xl5:""}},[a("v-autocomplete",{attrs:{items:t.transportistas,label:"Transportista","no-data-text":"No hay datos disponibles"},on:{change:function(e){t.seleccionarV()}},model:{value:t.pk_transportador,callback:function(e){t.pk_transportador=e},expression:"pk_transportador"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md5:"",lg5:"",xl5:""}},[a("v-select",{attrs:{items:t.vehiculos,label:"Placa","no-data-text":"No hay datos disponibles"},model:{value:t.placa,callback:function(e){t.placa=e},expression:"placa"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},t._l(t.validaMensaje,function(e){return a("div",{key:e,staticClass:"red--text font-weight-bold",domProps:{textContent:t._s(e)}})})),t.errorPedido?a("v-flex",{attrs:{xs12:"",sm2:"",md2:"",lg2:"",xl2:""}},[a("div",{staticClass:"red--text font-weight-bold",staticStyle:{"font-size":"20px"},domProps:{textContent:t._s(t.errorPedido)}})]):t._e(),a("v-flex",{attrs:{xs12:"",sm2:"",md2:"",lg2:"",xl2:""}},t._l(t.items,function(e){return a("li",{key:e.pK_ARTICULO,staticClass:"red--text font-weight-bold"},[t._v("\n            "+t._s(e.pK_ARTICULO)+"\n          ")])})),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[0==t.verDetalle?a("v-btn",{attrs:{disabled:t.wait,loading:t.wait,color:"primary"},on:{click:function(e){t.guardar()}}},[t._v("Guardar")]):t._e(),a("v-btn",{staticClass:"mb-2",attrs:{color:"green darken-4",dark:""},on:{click:function(e){t.validarOrdenes()}}},[t._v("Validar")]),a("v-btn",{attrs:{color:"error"},on:{click:function(e){t.ocultarNuevo()}}},[t._v("Cancelar")])],1)],1)],1):t._e()],1)],1)},lt=[],ct=a("8afe"),dt=a("c93e"),pt={data:function(){return{enableDisable:!1,detecteds:[],selected:[],items:[],salidas:[],wait:!1,dialog:!1,headers:[{text:"Nº Documento",value:"nro_DOC",sortable:!1,class:"black--text font-weight-bold"},{text:"Tipo de Salida",value:"tipO_SALIDA",sortable:!1,class:"black--text font-weight-bold"},{text:"Sección",value:"pK_ENTIDAD",sortable:!1,class:"black--text font-weight-bold"},{text:"Semana",value:"pK_SEMANA",sortable:!1,class:"black--text font-weight-bold"},{text:"Fecha Documento",value:"fechA_DOC",sortable:!1,class:"black--text font-weight-bold"},{text:"Tienda de Destino",value:"nombre",sortable:!1,class:"black--text font-weight-bold"},{text:"Cajas",value:"totaL_PREPACKS",sortable:!1,class:"black--text font-weight-bold"},{text:"Pares",value:"totaL_PARES",sortable:!1,class:"black--text font-weight-bold"},{text:"Estado",value:"estado",sortable:!1,class:"black--text font-weight-bold"},{text:"Usuario",value:"login",sortable:!1,class:"black--text font-weight-bold"}],cabeceraDetalles:[{text:"Borrar",value:"borrar",sortable:!1,class:"black--text font-weight-bold"},{text:"Artículo",value:"pK_ARTICULO",sortable:!1,class:"black--text font-weight-bold"},{text:"PrePack",value:"pK_PPREPACK",sortable:!1,class:"black--text font-weight-bold"},{text:"Pares",value:"cpares",sortable:!1,class:"black--text font-weight-bold"},{text:"Cajas",value:"cprepacks",sortable:!1,class:"black--text font-weight-bold"},{text:"Precio",value:"pventa",sortable:!1,class:"black--text font-weight-bold"},{text:"1",value:"taM1",sortable:!1,class:"black--text font-weight-bold"},{text:"2",value:"taM2",sortable:!1,class:"black--text font-weight-bold"},{text:"3",value:"taM3",sortable:!1,class:"black--text font-weight-bold"},{text:"4",value:"taM4",sortable:!1,class:"black--text font-weight-bold"},{text:"5",value:"taM5",sortable:!1,class:"black--text font-weight-bold"},{text:"6",value:"taM6",sortable:!1,class:"black--text font-weight-bold"},{text:"7",value:"taM7",sortable:!1,class:"black--text font-weight-bold"},{text:"8",value:"taM8",sortable:!1,class:"black--text font-weight-bold"},{text:"9",value:"taM9",sortable:!1,class:"black--text font-weight-bold"}],cabeceraOrdenes:[{text:"Nº Orden",value:"nrO_ORDEN",sortable:!1,class:"black--text font-weight-bold"},{text:"Orden de Pedido",value:"pK_ORDEN_PED",sortable:!1,class:"black--text font-weight-bold"},{text:"Semana",value:"pK_SEMANA",sortable:!1,class:"black--text font-weight-bold"},{text:"Observaciones",value:"obs",sortable:!1,class:"black--text font-weight-bold"}],detalles:[],ordenes:[],ppack:"",id:"",t1:"",t2:"",t3:"",t4:"",t5:"",t6:"",t7:"",t8:"",t9:"",pack:"",pk_tienda:"",pk_tipo_doc:3,pk_tipo_mov:0,pk_calidad:1,pk_despachador:"",pk_revisor:"",pk_transportador:"",placa:"",nombre:"",empleado:"",ciudad:"",totalpares:0,totalprepacks:0,semana:[],tipo_tra:"ND",concepto:"IMP",ess_prepack:"S",tipo:"DESPACHO A TIENDAS",fecha:"",tiendas:[],pedidos:[],despachadores:[],revisores:[],transportistas:[],vehiculos:[],ciudades:["Beni","Cochabamba","La Paz","Oruro","Pando","Potosi","Santa Cruz","Sucre","Tarija"],numero:"",observaciones:"",codebar:"",codigo:"",estado:"V",parametro:"",pagina:"Salidas por página",paginas:"Ordenes por página",verNuevo:0,errorArticulo:null,errorPedido:null,verOrdenes:0,valida:0,validaMensaje:[],marca:0,marcaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:"",verDetalle:0,totalA:0,totalB:0}},computed:{calcularTotalPares:function(){for(var t=0,e=0;e<this.detalles.length;e++)t+=this.detalles[e].cpares;return t},calcularTotalPrePacks:function(){for(var t=0,e=0;e<this.detalles.length;e++)t+=this.detalles[e].cprepacks;return t}},watch:{dialog:function(t){t||this.close()}},created:function(){var t=new Date,e=new Intl.DateTimeFormat("en",{year:"numeric"}).format(t),a=new Intl.DateTimeFormat("en",{month:"short"}).format(t),s=new Intl.DateTimeFormat("en",{day:"numeric"}).format(t);this.fecha="".concat(s,"-").concat(a,"-").concat(e),this.listar(),this.obtenerSemana(this.$store.state.usuario.entidad),this.seleccionarD(),this.seleccionarR(),this.seleccionarT()},methods:{toggleAll:function(){this.selected.length?this.selected=[]:this.selected=this.desserts.slice()},mostrarNuevo:function(){this.verNuevo=1},ocultarNuevo:function(){this.verNuevo=0,this.limpiar()},mostrarOrdenes:function(){var t=this;t.verOrdenes=1;var e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};at.a.get("api/Salidas/CargarOrdenes/"+t.pk_tienda+"/"+t.$store.state.usuario.entidad,a).then(function(e){t.ordenes=e.data}).catch(function(e){401==e.response.status?t.$store.dispatch("salir"):console.log(e)})},guardarOrdenes:function(){if(!this.marcar()){var t=[],e={Authorization:"Bearer "+this.$store.state.token},a={headers:e},s=this;at.a.post("api/Salidas/LeerPedidos",{pK_TIENDA:s.pk_tienda,ordenes:s.selected},a).then(function(e){t=e.data;var a=t.reduce(function(t,e){var a=t.find(function(t){return t.pK_ARTICULO===e.pK_ARTICULO&&t.taM1===e.taM1&&t.taM12===e.taM2&&t.taM3===e.taM3&&t.taM4===e.taM4&&t.taM5===e.taM5&&t.taM6===e.taM6&&t.taM7===e.taM7&&t.taM8===e.taM8&&t.taM9===e.taM9});return a?t.map(function(t){return t.pK_ARTICULO===e.pK_ARTICULO&&t.taM1===e.taM1&&t.taM2===e.taM2&&t.taM3===e.taM3&&t.taM4===e.taM4&&t.taM5===e.taM5&&t.taM6===e.taM6&&t.taM7===e.taM7&&t.taM8===e.taM8&&t.taM9===e.taM9?Object(dt["a"])({},t,{totaL_PARES:t.totaL_PARES+e.totaL_PARES}):t}):Object(ct["a"])(t).concat([e])},[]);s.pedidos=a}).catch(function(t){401==t.response.status?s.$store.dispatch("salir"):console.log(t)}),this.verOrdenes=0,this.marca=0,this.marcaMensaje=[]}},ocultarOrdenes:function(){this.verOrdenes=0,this.ordenes=[],this.selected=[],this.marca=0,this.marcaMensaje=[]},buscarCodigo:function(){var t=this;if(t.errorArticulo=null,!isNaN(this.codigo)){var e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};at.a.get("api/Salidas/BuscarArticulo/"+this.codigo.match(/.{1,8}/g)+"/"+this.semana.pK_SEMANA+"/"+this.$store.state.usuario.entidad+"/"+this.selected[0].pK_ORDEN_PED+"/"+this.pk_tienda,a).then(function(e){t.agregarDetalle(e.data)}).catch(function(e){switch(e.response.status){case 400:t.errorArticulo="No tiene un plan asignado",t.codigo="";break;case 404:t.errorArticulo="No existe el artículo";break}})}},agregarDetalle:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.errorArticulo=null,this.encuentraArticulo(t["pK_ARTICULO"],Number(t["pK_PPREPACK"]))?this.recorrerListas(t["pK_ARTICULO"],t["pK_PPREPACK"],t["taM1"],t["taM2"],t["taM3"],t["taM4"],t["taM5"],t["taM6"],t["taM7"],t["taM8"],t["taM9"])?(this.errorArticulo="La cantidad de pares esta excedida",this.codigo=""):this.encuentra(t["pK_ARTICULO"],Number(t["pK_PPREPACK"]),t["cpares"])||(this.detalles.push({pK_ARTICULO:t["pK_ARTICULO"],pK_PPREPACK:t["pK_PPREPACK"],pK_MARCA:t["pK_MARCA"],pK_CATEGORIA:t["pK_CATEGORIA"],pK_SUBCATEGORIA:t["pK_SUBCATEGORIA"],pK_ENTIDAD:t["pK_ENTIDAD"],pK_PLAN:t["pK_PLAN"],pK_CANAL:t["pK_CANAL"],cb:t["cb"],taM1:t["taM1"],taM2:t["taM2"],taM3:t["taM3"],taM4:t["taM4"],taM5:t["taM5"],taM6:t["taM6"],taM7:t["taM7"],taM8:t["taM8"],taM9:t["taM9"],cprepacks:1,pventa:t["pventa"],pcosto:t["pcosto"],cpares:t["cpares"],pK_CALIDAD:this.pk_calidad}),this.codigo=""):(this.errorArticulo="El artículo no se encuentra en los pedidos",this.codigo="")},recorrerListas:function(t,e,a,s,o,r,i,n,l,c,d){for(var p=0,u=0;u<this.detalles.length;u++)if(this.detalles[u].pK_ARTICULO==t&&this.detalles[u].pK_PPREPACK==e)for(var h=0;h<this.pedidos.length;h++)this.pedidos[h].pK_ARTICULO==t&&this.pedidos[h].taM1==a&&this.pedidos[h].taM2==s&&this.pedidos[h].taM3==o&&this.pedidos[h].taM4==r&&this.pedidos[h].taM5==i&&this.pedidos[h].taM6==n&&this.pedidos[h].taM7==l&&this.pedidos[h].taM8==c&&this.pedidos[h].taM9==d&&(parseInt(this.detalles[u].cpares),parseInt(this.pedidos[h].totaL_PARES),p=1);return p},encuentra:function(t,e,a){for(var s=0,o=0;o<this.detalles.length;o++)this.detalles[o].pK_ARTICULO==t&&this.detalles[o].pK_PPREPACK==e&&(this.detalles[o].cpares+=parseInt(a),this.detalles[o].cprepacks+=1,s=1);return this.codigo="",s},encuentraArticulo:function(t,e){for(var a=0,s=0;s<this.pedidos.length;s++)this.pedidos[s].pK_ARTICULO==t&&this.pedidos[s].pK_PPACK==e&&(a=1);return a},encuentraTienda:function(t){for(var e=0;e<this.tiendas.length;e++)this.tiendas[e].value==t&&(this.nombre=this.tiendas[e].text2)},eliminarDetalle:function(t,e){var a=t.indexOf(e);-1!==a&&t.splice(a,1)},obtenerSemana:function(t){var e=this,a={Authorization:"Bearer "+this.$store.state.token},s={headers:a};at.a.get("api/Salidas/ObtenerSemana/"+t,s).then(function(t){e.semana=t.data}).catch(function(t){401==t.response.status?e.$store.dispatch("salir"):console.log(t)})},seleccionarS:function(){this.parametro=this.ciudad+","+this.$store.state.usuario.entidad;var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};t.tiendas=[],t.nombre="";var s=[];at.a.get("api/Salidas/CargarTienda/"+this.parametro,a).then(function(e){s=e.data,s.map(function(e){t.tiendas.push({text:e.pK_TIENDA,text2:e.nombre,value:e.pK_TIENDA})})}).catch(function(e){401==e.response.status?t.$store.dispatch("salir"):console.log(e)})},seleccionarD:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e},s=[];at.a.get("api/Salidas/CargarDespachador",a).then(function(e){s=e.data,s.map(function(e){t.despachadores.push({text:e.empleado,value:e.nrO_DOC})})}).catch(function(e){401==e.response.status?t.$store.dispatch("salir"):console.log(e)})},seleccionarR:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e},s=[];at.a.get("api/Salidas/CargarRevisor",a).then(function(e){s=e.data,s.map(function(e){t.revisores.push({text:e.empleado,value:e.nrO_DOC})})}).catch(function(e){401==e.response.status?t.$store.dispatch("salir"):console.log(e)})},seleccionarT:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e},s=[];at.a.get("api/Salidas/CargarTransportador",a).then(function(e){s=e.data,s.map(function(e){t.transportistas.push({text:e.empleado,value:e.nrO_DOC})})}).catch(function(e){401==e.response.status?t.$store.dispatch("salir"):console.log(e)})},seleccionarV:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};t.vehiculos=[];var s=[];at.a.get("api/Salidas/CargarVehiculo/"+this.pk_transportador,a).then(function(e){s=e.data,s.map(function(e){t.vehiculos.push({text:e.placa,value:e.pk_empleado})})}).catch(function(e){401==e.response.status?t.$store.dispatch("salir"):console.log(e)});for(var o=0;o<this.transportistas.length;o++)this.transportistas[o].value==this.pk_transportador&&(this.empleado=this.transportistas[o].text)},limpiar:function(){this.id="",this.t1="",this.t2="",this.t3="",this.t4="",this.t5="",this.t6="",this.t7="",this.t8="",this.t9="",this.ppack="",this.pk_tienda="",this.pk_despachador="",this.pk_revisor="",this.pk_transportador="",this.placa="",this.nombre="",this.empleado="",this.observaciones="",this.detalles=[],this.vehiculos=[],this.ordenes=[],this.tiendas=[],this.selected=[],this.codigo="",this.ciudad="",this.verDetalle=0,this.valida=0,this.validaMensaje=[],this.marca=0,this.marcaMensaje=[],this.errorArticulo=null,this.errorPedido=null,this.enableDisable=!1,this.wait=!1},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};at.a.get("api/Salidas/Listar/"+t.$store.state.usuario.entidad,a).then(function(e){t.salidas=e.data}).catch(function(e){401==e.response.status?t.$store.dispatch("salir"):console.log(e)})},guardar:function(){if(!this.validar()){this.wait=!0;var t={Authorization:"Bearer "+this.$store.state.token},e={headers:t};this.enableDisable=!0;var a=this;a.errorPedido=null,at.a.post("api/Salidas/CrearSalida",{pK_SECCION:a.$store.state.usuario.entidad,pK_TIPO_DOC:a.pk_tipo_doc,pK_TIPO_MOV:a.pk_tipo_mov,pK_ENTIDAD:a.pk_tienda,pK_SEMANA:a.semana.pK_SEMANA,fechA_DOC:a.fecha,estado:a.estado,pK_EMP_DES:a.pk_despachador,pK_EMP_REV:a.pk_revisor,pK_TIPO_TRA:a.tipo_tra,pK_EMP_TRA:a.pk_transportador,pK_PEDIDO:a.selected[0].pK_ORDEN_PED,nombrE_TRA:a.empleado,pK_USUARIO:a.$store.state.usuario.pk_usuario,placa:a.placa,obs:a.observaciones,pK_CONCEPTO:a.concepto,esS_PPACK:a.ess_prepack,totaL_PREPACKS:a.totalprepacks,totaL_PARES:a.totalpares,detalles:a.detalles,ordenes:a.selected},e).then(function(t){a.ocultarNuevo(),a.listar(),a.limpiar()}).catch(function(t){500==t.response.status?(a.errorPedido="Error al registrar el despacho!",a.wait=!1):console.log(t)})}},validarOrdenes:function(){if(!this.validar()){var t={Authorization:"Bearer "+this.$store.state.token},e={headers:t},a=this;a.errorPedido=null,at.a.post("api/Salidas/ValidarArticulos",{pK_SECCION:a.$store.state.usuario.entidad,pK_TIPO_DOC:a.pk_tipo_doc,pK_TIPO_MOV:a.pk_tipo_mov,pK_ENTIDAD:a.pk_tienda,pK_SEMANA:a.semana.pK_SEMANA,fechA_DOC:a.fecha,estado:a.estado,pK_EMP_DES:a.pk_despachador,pK_EMP_REV:a.pk_revisor,pK_TIPO_TRA:a.tipo_tra,pK_EMP_TRA:a.pk_transportador,nombrE_TRA:a.empleado,pK_USUARIO:a.$store.state.usuario.pk_usuario,placa:a.placa,obs:a.observaciones,pK_CONCEPTO:a.concepto,esS_PPACK:a.ess_prepack,totaL_PREPACKS:a.totalprepacks,totaL_PARES:a.totalpares,detalles:a.detalles,ordenes:a.selected},e).then(function(t){a.items=t.data}).catch(function(t){401==t.response.status?a.$store.dispatch("salir"):console.log(t)})}},validarSalidas:function(){var t={Authorization:"Bearer "+this.$store.state.token},e={headers:t},a=this;a.errorPedido=null,at.a.post("api/Salidas/ValidarSalidas",{pK_SECCION:a.$store.state.usuario.entidad,pK_TIPO_DOC:a.pk_tipo_doc,pK_TIPO_MOV:a.pk_tipo_mov,pK_ENTIDAD:a.pk_tienda,pK_SEMANA:a.semana.pK_SEMANA,fechA_DOC:a.fecha,estado:a.estado,pK_EMP_DES:a.pk_despachador,pK_EMP_REV:a.pk_revisor,pK_TIPO_TRA:a.tipo_tra,pK_EMP_TRA:a.pk_transportador,nombrE_TRA:a.empleado,pK_USUARIO:a.$store.state.usuario.pk_usuario,placa:a.placa,obs:a.observaciones,pK_CONCEPTO:a.concepto,esS_PPACK:a.ess_prepack,totaL_PREPACKS:a.totalprepacks,totaL_PARES:a.totalpares,detalles:a.detalles,ordenes:a.selected},e).then(function(t){a.items=t.data}).catch(function(t){401==t.response.status?a.$store.dispatch("salir"):console.log(t)})},validar:function(){return this.valida=0,this.validaMensaje=[],this.pk_tienda||this.validaMensaje.push("Seleccione una tienda!"),this.detalles.length<=0&&this.validaMensaje.push("Ingrese al menos un artículo al detalle!"),this.selected.length<=0&&this.validaMensaje.push("Seleccione una orden de pedido!"),this.validaMensaje.length&&(this.valida=1),this.valida},marcar:function(){return this.marca=0,this.marcaMensaje=[],0==this.selected.length&&this.marcaMensaje.push("Seleccione una orden de pedido!"),this.marcaMensaje.length&&(this.marca=1),this.marca}}},ut=pt,ht=Object(F["a"])(ut,nt,lt,!1,null,null,null);ht.options.__file="Salida.vue";var vt=ht.exports,ft=a("2f62"),_t=a("1232");s["default"].use(ft["a"]);var mt=new ft["a"].Store({state:{token:null,usuario:null},mutations:{setToken:function(t,e){t.token=e},setUsuario:function(t,e){t.usuario=e}},actions:{guardarToken:function(t,e){var a=t.commit;a("setToken",e),a("setUsuario",Object(_t["a"])(e)),localStorage.setItem("token",e)},autoLogin:function(t){var e=t.commit,a=localStorage.getItem("token");a&&(e("setToken",a),e("setUsuario",Object(_t["a"])(a))),xt.push({name:"home"})},salir:function(t){var e=t.commit;e("setToken",null),e("setUsuario",null),localStorage.removeItem("token"),xt.push({name:"inicio"})}}});s["default"].use(J["a"]);var bt=new J["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:X,meta:{administrador:!0}},{path:"/inicio",name:"inicio",component:it,meta:{libre:!0}},{path:"/salidas",name:"salidas",component:vt,meta:{administrador:!0}}]});bt.beforeEach(function(t,e,a){t.matched.some(function(t){return t.meta.libre})?a():mt.state.usuario&&"administrador"==mt.state.usuario.rol?t.matched.some(function(t){return t.meta.administrador})&&a():a({name:"inicio"})});var xt=bt;s["default"].config.productionTip=!1,at.a.defaults.baseURL="http://10.0.0.25/despachos",new s["default"]({router:xt,store:mt,render:function(t){return t(H)}}).$mount("#app")},"9bd9":function(t,e,a){"use strict";var s=a("4e7f"),o=a.n(s);o.a},b3a9:function(t,e,a){},b7dc:function(t,e,a){"use strict";var s=a("b3a9"),o=a.n(s);o.a}});
//# sourceMappingURL=app.bc9bbee3.js.map